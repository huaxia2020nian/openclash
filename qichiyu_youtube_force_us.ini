; ================================================
; qichiyu_tv_clean_fix_v3.ini
; ç›®æ ‡ï¼š
; 1) ç”µè§†(192.168.6.210) çš„ YouTube èµ° ğŸ‡ºğŸ‡¸ ä¼˜å…ˆï¼Œè‡ªåŠ¨å›é€€ï¼›æ–°å¢ ğŸ‡¬ğŸ‡§ è‹±å›½ ç»„å¯é€‰
; 2) æ‰‹æœº/ç”µè„‘ çš„ YouTube èµ°â€œå›½å¤–é»˜è®¤ï¼ˆæ—¥æœ¬ï¼‰â€ï¼Œäº’ä¸å½±å“
; 3) ä¿®å¤ç‚¹å‡»è§†é¢‘â€œCan't connect/æ— æ³•ç™»å½•â€ä¸æ—¶é—´ä¸æ˜¾ç¤ºï¼šè¡¥å…¨åŸŸå + DNS fake-ip-filter + æ¢æµ‹/NTPç›´è¿
; 4) å¹¿å‘Š/éšç§/å‡€åŒ–ç½®åï¼Œå‡å°‘æ€§èƒ½å½±å“
; é€‚é…ï¼šOpenClash TUN-æ··åˆ + Fake-IP æ¨¡å¼
; ================================================

; ---------- DNS å†…è”æ³¨å…¥ï¼ˆç¨³å®šï¼‰ ----------
custom_dns=<<EOF
dns:
  enable: true
  listen: 0.0.0.0:7874
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
    - 8.8.4.4
  fallback:
    - 1.0.0.1
    - 9.9.9.9
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - '*.localdomain'
    - 'stun.l.google.com'
    - 'stun.*.*'
    - '*.stun.*'
    - 'time.*'
    - '*.ntp.*'
    - '*.ntp.org'
    - 'pool.ntp.org'
    - 'time.apple.com'
    - 'time.windows.com'
    - 'time.android.com'
    - 'ntp.aliyun.com'
    - 'ntp.tencent.com'
    - 'connectivitycheck.gstatic.com'
    - 'clients3.google.com'
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
EOF

; ---------- æœ€é«˜ä¼˜å…ˆçº§ï¼šä»…é™åˆ¶ç”µè§†çš„ YouTube ----------
; ç”µè§†å›ºå®š IPï¼ˆåŠ¡å¿…åœ¨ DHCP é™æ€ç§Ÿçº¦é‡ŒæŠŠ 192.168.6.210 ç»‘å®šï¼‰
ruleset=ğŸ“º YouTube,[]SRC-IP-CIDR,192.168.6.210/32,no-resolve
; ç”µè§†è®¿é—®ä»¥ä¸‹åŸŸå => ğŸ“º YouTubeï¼ˆç¾å›½/è‹±å›½ä¼˜å…ˆï¼Œè‡ªåŠ¨å›é€€ï¼‰
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,youtube.com
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,youtubei.googleapis.com
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,googlevideo.com
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,ytimg.com
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,ggpht.com
ruleset=ğŸ“º YouTube,[]DOMAIN-SUFFIX,youtu.be

; å…¶å®ƒè®¾å¤‡è®¿é—® YouTube => èµ°â€œå›½å¤–é»˜è®¤ï¼ˆæ—¥æœ¬ï¼‰â€ï¼Œä¸å¼ºåˆ¶ç¾å›½/è‹±å›½
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,youtube.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,youtubei.googleapis.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,googlevideo.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,ytimg.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,ggpht.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,youtu.be

; ---------- Google ç™»å½•ä¸é™æ€èµ„æºï¼ˆæå‰ï¼Œé¿å…è¢«æ‹¦ï¼‰ ----------
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,google.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,googleapis.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,gstatic.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,accounts.google.com
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,recaptcha.net
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]DOMAIN-SUFFIX,oauth.googleusercontent.com

; ---------- æ—¶é—´/NTP/è¿ç½‘æ¢æµ‹ç›´è¿ï¼ˆä¿è¯ç”µè§†æ—¶é—´/ç™»å½•ï¼‰ ----------
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,time.apple.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,time.windows.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,time.android.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,ntp.aliyun.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,ntp.tencent.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,pool.ntp.org
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,connectivitycheck.gstatic.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,clients3.google.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,msftconnecttest.com
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]DOMAIN-SUFFIX,msftncsi.com

; ---------- åŸºç¡€åˆ†æµ ----------
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOSITE,CN
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOIP,CN,no-resolve
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]GEOSITE,geolocation-!cn

; ---------- è¿‡æ»¤ï¼ˆæ”¾æœ€åï¼Œé¿å…å½±å“ç™»å½•/æ’­æ”¾ï¼‰ ----------
ruleset=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
ruleset=ğŸ§¹ åº”ç”¨å‡€åŒ–,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
ruleset=ğŸ”’ éšç§é˜²æŠ¤,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanPrivacy.list

; å…œåº•
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

; ---------- ç­–ç•¥ç»„ ----------
; é¡¶å±‚ï¼šå›½å¤–é»˜è®¤æ—¥æœ¬ï¼›å¯æ‰‹åŠ¨åˆ‡åˆ°å…¶å®ƒ
custom_proxy_group=ğŸš€ èŠ‚ç‚¹é€‰æ‹©`select`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`[]ğŸ‡¬ğŸ‡§ è‹±å›½è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`[]DIRECT

; è‡ªåŠ¨æµ‹é€Ÿåˆ†ç»„ï¼ˆæŒ‰å¸¸è§å‘½ååŒ¹é…å…³é”®å­—ï¼‰
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`url-test`(æ—¥|JP|Japan|ä¸œäº¬|å¤§é˜ª|NRT|TYO)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`url-test`(ç¾|US|United States|ç¾å›½|æ´›æ‰çŸ¶|LA|è¾¾æ‹‰æ–¯|Dallas|èŠåŠ å“¥|Chicago|çº½çº¦|NY|è¥¿é›…å›¾|Seattle|åœ£ä½•å¡|San Jose|Ashburn|é˜¿ä»€æœ¬)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¬ğŸ‡§ è‹±å›½è‡ªåŠ¨`url-test`(è‹±|UK|United Kingdom|ä¼¦æ•¦|London|GB|GBR|UK)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`url-test`(æ–°åŠ å¡|SG|Singapore|SGP)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨`url-test`(æ¸¯|HK|Hong|é¦™æ¸¯|HKG)`http://www.gstatic.com/generate_204`300,,50

; æ‰‹åŠ¨åˆ†ç»„ï¼šä¾¿äºä½ åœ¨ UI é‡Œç²¾ç¡®æŒ‘é€‰æŸä¸ªç¾å›½/è‹±å›½èŠ‚ç‚¹
custom_proxy_group=ğŸ‡ºğŸ‡¸ ç¾å›½æ‰‹åŠ¨`select`(ç¾|US|United States|ç¾å›½|æ´›æ‰çŸ¶|LA|è¾¾æ‹‰æ–¯|Dallas|èŠåŠ å“¥|Chicago|çº½çº¦|NY|ç¡…è°·|San Jose|åœ£ä½•å¡|è¥¿é›…å›¾|Seattle|æ³¢ç‰¹å…°|Portland|è¿ˆé˜¿å¯†|Miami|é˜¿ä»€æœ¬|Ashburn)
custom_proxy_group=ğŸ‡¬ğŸ‡§ è‹±å›½æ‰‹åŠ¨`select`(è‹±|UK|United Kingdom|è‹±å›½|ä¼¦æ•¦|London|GB|GBR|UK)

; è§„åˆ™å¯¹åº”ç­–ç•¥
custom_proxy_group=ğŸ¯ å…¨çƒç›´è¿`select`[]DIRECT`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©
; ç”µè§† YouTubeï¼šç¾å›½æ‰‹åŠ¨ â†’ ç¾å›½è‡ªåŠ¨ â†’ è‹±å›½è‡ªåŠ¨ â†’ æ—¥æœ¬è‡ªåŠ¨ â†’ æ–°åŠ å¡è‡ªåŠ¨ â†’ DIRECT
custom_proxy_group=ğŸ“º YouTube`fallback`[]ğŸ‡ºğŸ‡¸ ç¾å›½æ‰‹åŠ¨`[]ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨`[]ğŸ‡¬ğŸ‡§ è‹±å›½è‡ªåŠ¨`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡è‡ªåŠ¨`[]DIRECT`http://www.gstatic.com/generate_204`300
custom_proxy_group=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸ§¹ åº”ç”¨å‡€åŒ–`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸ”’ éšç§é˜²æŠ¤`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
