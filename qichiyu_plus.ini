; ================================================
; qichiyu_plus.ini  (Customized by ChatGPT for you)
; Goal:
;  - Auto split: CN DIRECT / Intl PROXY / AI group / YouTube force PROXY
;  - Keep AdBlock / App Purify / Privacy but put LATER to reduce overhead
;  - No device IP binding by default; optional IoT DIRECT examples included
; ================================================

; 0) (Optional) IoT devices always DIRECT (uncomment and edit IPs/CIDR)
; ruleset=🎯 全球直连,[]SRC-IP-CIDR,192.168.6.100/32,no-resolve  ; Example: camera
; ruleset=🎯 全球直连,[]SRC-IP-CIDR,192.168.6.101/32,no-resolve  ; Example: smart switch
; ruleset=🎯 全球直连,[]SRC-IP-CIDR,192.168.6.0/24,no-resolve    ; Example: whole IoT subnet

; =========== Core routing (high priority, fast) ===========
; LAN / UnBan -> DIRECT
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list

; YouTube force PROXY (avoid Apple/DIRECT mismatch)
ruleset=📺 YouTube,[]DOMAIN-SUFFIX,youtube.com
ruleset=📺 YouTube,[]DOMAIN-SUFFIX,youtubei.googleapis.com
ruleset=📺 YouTube,[]DOMAIN-SUFFIX,googlevideo.com
ruleset=📺 YouTube,[]DOMAIN-SUFFIX,ytimg.com

; AI services -> AI group (explicit for long-connection stability)
ruleset=🤖 AI,[]DOMAIN-SUFFIX,chat.openai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,api.openai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,openai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,oaiusercontent.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,oaistatic.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,cdn.openai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,ai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,auth0.openai.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,auth0.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,arkoselabs.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,client-api.arkoselabs.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,cdn.cloudflare.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,static.cloudflareinsights.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,cloudflare-dns.com
ruleset=🤖 AI,[]DOMAIN-SUFFIX,turnstile.workers.dev
; plus your existing AI list
ruleset=🤖 AI,https://raw.githubusercontent.com/huaxia2020nian/openclash/refs/heads/main/AI.list

; Global media (Netflix/Disney etc.) -> media group
ruleset=🌍 国外媒体,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list

; CN domains & IPs -> DIRECT (critical)
ruleset=🎯 全球直连,[]GEOSITE,CN
ruleset=🎯 全球直连,[]GEOIP,CN,no-resolve

; non-CN -> PROXY
ruleset=🚀 节点选择,[]GEOSITE,geolocation-!cn

; Your own supplements (keep)
ruleset=🚀 节点选择,https://raw.githubusercontent.com/huaxia2020nian/openclash/refs/heads/main/ProxyLite.list
ruleset=🎯 全球直连,https://raw.githubusercontent.com/huaxia2020nian/openclash/refs/heads/main/Direct.list

; =========== Optional filters (LOWER priority to reduce overhead) ===========
; Light AdBlock (kept but later)
ruleset=🛑 广告拦截,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanEasyList.list
; App Purify (in-app ads/trackers) - optional
ruleset=🧹 应用净化,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
; Privacy Protection - optional
ruleset=🔒 隐私防护,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanPrivacy.list

; FINAL
ruleset=🐟 漏网之鱼,[]FINAL


; ================= Strategy Groups (match all rules above) =================
; Top selector
custom_proxy_group=🚀 节点选择`select`[]✈ 手动切换`[]♻ 自动选择`[]🇭🇰 香港自动`[]🇸🇬 新加坡自动`[]🇯🇵 日本自动`[]🇺🇸 美国自动`[]🇹🇼 台湾自动`[]DIRECT

; Manual / Auto / Regions
custom_proxy_group=✈ 手动切换`select`[]DIRECT
custom_proxy_group=♻ 自动选择`url-test`(HK|Hong|SG|Singapore|JP|Japan|US|United|TW|Taiwan|KR|Korea|UK|United Kingdom|GB|Britain)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=🇭🇰 香港自动`url-test`(HK|Hong|香港)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=🇸🇬 新加坡自动`url-test`(SG|Singapore|新加坡)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=🇯🇵 日本自动`url-test`(JP|Japan|日本)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=🇺🇸 美国自动`url-test`(US|United States|美国|硅谷|洛杉矶|芝加哥|达拉斯)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=🇹🇼 台湾自动`url-test`(TW|Taiwan|台湾)`http://www.gstatic.com/generate_204`300,,50

; For Media/YouTube/AI/Direct/Ad/Privacy/Purify/FINAL mapping
custom_proxy_group=🎯 全球直连`select`[]DIRECT`[]🚀 节点选择
custom_proxy_group=📺 YouTube`select`[]🇭🇰 香港自动`[]🇹🇼 台湾自动`[]🇸🇬 新加坡自动`[]🇯🇵 日本自动`[]🇺🇸 美国自动`[]✈ 手动切换`[]♻ 自动选择
custom_proxy_group=🌍 国外媒体`select`[]🇭🇰 香港自动`[]🇹🇼 台湾自动`[]🇸🇬 新加坡自动`[]🇯🇵 日本自动`[]🇺🇸 美国自动`[]✈ 手动切换`[]♻ 自动选择
; AI: default to manual to avoid node hopping and WS disconnects
custom_proxy_group=🤖 AI`select`[]✈ 手动切换`[]🇺🇸 美国自动`[]🇯🇵 日本自动`[]🇸🇬 新加坡自动`[]🇭🇰 香港自动`[]♻ 自动选择
; Filters
custom_proxy_group=🛑 广告拦截`select`[]REJECT`[]DIRECT
custom_proxy_group=🧹 应用净化`select`[]REJECT`[]DIRECT
custom_proxy_group=🔒 隐私防护`select`[]REJECT`[]DIRECT
; FINAL
custom_proxy_group=🐟 漏网之鱼`select`[]🚀 节点选择`[]DIRECT


; ================= Notes =================
; DNS (OpenClash -> DNS 设置):
;   - 本地 DNS 劫持：使用 Dnsmasq 转发（务必勾选）
;   - 上游转发：127.0.0.1#7874 / 1.1.1.1 / 8.8.8.8 / 8.8.4.4
;   - 变更后点一次“清理 DNS 缓存”
; Fake-IP Filter（覆写 DNS 部分）建议追加：
;   android.googleapis.com
;   youtubei.googleapis.com
;   googlevideo.com
;   ytimg.com
;   play.googleapis.com
;   connectivitycheck.gstatic.com
;   chat.openai.com
;   api.openai.com
;   openai.com
;   oaiusercontent.com
;   oaistatic.com
;   cdn.openai.com
;   ai.com
;   auth0.openai.com
;   auth0.com
;   arkoselabs.com
;   client-api.arkoselabs.com
;   cdn.cloudflare.com
;   static.cloudflareinsights.com
;   cloudflare-dns.com
;   turnstile.workers.dev
